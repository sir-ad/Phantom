<!doctype html><html data-theme=dark lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Mcp Core Spec â€“ Phantom</title><meta content="The invisible force behind every great product" name=description><link href=https://sir-ad.github.io/Phantom/oat.min.css rel=stylesheet><link href=https://sir-ad.github.io/Phantom/docs.css rel=stylesheet><body><nav class=sidebar><a class=logo href=https://sir-ad.github.io/Phantom> <strong>Phantom</strong> </a><ul><li class=section-header>User Guide<li><a href=https://sir-ad.github.io/Phantom/docs/user/install/>Install</a><li><a href=https://sir-ad.github.io/Phantom/docs/user/integrations/>Integrations</a><li><a href=https://sir-ad.github.io/Phantom/docs/user/modules/>Modules</a><li><a href=https://sir-ad.github.io/Phantom/docs/user/quickstart/>Quickstart</a><li><a href=https://sir-ad.github.io/Phantom/docs/user/troubleshooting/>Troubleshooting</a><li class=section-header>Features<li><a href=https://sir-ad.github.io/Phantom/docs/features/agents/>Agents</a><li><a href=https://sir-ad.github.io/Phantom/docs/features/chat/>Chat</a><li><a href=https://sir-ad.github.io/Phantom/docs/features/analyze/>Deep Task Analysis</a><li><a href=https://sir-ad.github.io/Phantom/docs/features/oracle/>Phantom Oracle</a><li><a href=https://sir-ad.github.io/Phantom/docs/features/prd/>Prd</a><li><a href=https://sir-ad.github.io/Phantom/docs/features/simulation/>Simulation</a><li><a href=https://sir-ad.github.io/Phantom/docs/features/swarm/>Swarm</a><li class=section-header>Technical Specs<li><a href=https://sir-ad.github.io/Phantom/docs/tech/architecture-overview/>Architecture Overview</a><li class=section-header>Providers<li><a href=https://sir-ad.github.io/Phantom/docs/providers/anthropic/>Anthropic</a><li><a href=https://sir-ad.github.io/Phantom/docs/providers/gemini/>Gemini</a><li><a href=https://sir-ad.github.io/Phantom/docs/providers/overview/>Index</a><li><a href=https://sir-ad.github.io/Phantom/docs/providers/ollama/>Ollama</a><li><a href=https://sir-ad.github.io/Phantom/docs/providers/openai/>Openai</a></ul></nav><main class=content><article><h1>Mcp Core Spec</h1><p>Owner: PhantomPM Integrations Team<br> Last Updated: 2026-02-13<br> Status: Beta<h2 id=goal>Goal</h2><p>Define PHANTOM as a local MCP provider with stable, versioned capabilities for coding agents and IDE clients.<h2 id=current-implementation-state>Current Implementation State</h2><ol><li>MCP server package exists at <code>packages/mcp-server</code>.<li>Stdio server path is available via <code>phantom mcp serve</code>.<li>Tool contracts implemented: <code>context.add</code>, <code>context.search</code>, <code>prd.generate</code>, <code>swarm.analyze</code>, <code>bridge.translate_pm_to_dev</code>.<li>Integration data model exists in config layer.</ol><h2 id=target-state>Target State</h2><p>A local MCP core service with:<ol><li>capability discovery<li>tool execution<li>resource retrieval<li>permission-aware behavior</ol><h2 id=initial-capability-surface>Initial Capability Surface</h2><p>Tools:<ol><li><code>context.add</code><li><code>context.search</code><li><code>prd.generate</code><li><code>swarm.analyze</code><li><code>bridge.translate_pm_to_dev</code></ol><p>Resources:<ol><li>active project summary<li>installed modules summary<li>capability matrix snapshot</ol><h2 id=tool-contract-shape>Tool Contract Shape</h2><p>Each tool request includes:<ol><li><code>tool</code><li><code>arguments</code><li><code>request_id</code></ol><p>Each response includes:<ol><li><code>request_id</code><li><code>status</code><li><code>result</code><li><code>errors[]</code> when applicable</ol><h2 id=initial-tool-input-output-contracts>Initial Tool Input/Output Contracts</h2><ol><li><code>context.add</code> <ul><li>input: <code>path</code>, optional <code>mode</code><li>output: <code>stats</code> with files/types/languages/health</ul><li><code>context.search</code> <ul><li>input: <code>query</code>, optional <code>limit</code><li>output: <code>matches[]</code> with path, snippet, and type</ul><li><code>prd.generate</code> <ul><li>input: <code>title</code>, optional <code>scope</code>, optional <code>constraints[]</code><li>output: <code>prd_id</code>, <code>markdown</code>, optional <code>output_path</code></ul><li><code>swarm.analyze</code> <ul><li>input: <code>question</code>, optional <code>context_scope</code>, optional <code>agents[]</code><li>output: <code>consensus</code>, <code>confidence</code>, <code>agent_reports[]</code></ul><li><code>bridge.translate_pm_to_dev</code> <ul><li>input: <code>pm_intent</code>, optional <code>product_constraints</code><li>output: <code>technical_tasks[]</code>, <code>acceptance_criteria[]</code>, <code>risks[]</code></ul></ol><h2 id=permission-model>Permission Model</h2><ol><li>default allow for local read actions<li>explicit policy checks for external side effects<li>denial responses include remediation guidance</ol><h2 id=observability>Observability</h2><ol><li>request duration metrics<li>error class counts<li>adapter-level success/failure counters</ol><h2 id=acceptance-criteria>Acceptance Criteria</h2><ol><li>MCP capability listing is deterministic<li>tool responses conform to documented schema<li>permission denials are explicit and auditable</ol></article></main><script src=https://sir-ad.github.io/Phantom/oat.min.js></script>