<!doctype html><html data-theme=dark lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Architecture Overview â€“ Phantom</title><meta content="The invisible force behind every great product" name=description><link href=https://phantom.pm/oat.min.css rel=stylesheet><link href=https://phantom.pm/docs.css rel=stylesheet><body><nav class=sidebar><a class=logo href=https://phantom.pm> <strong>Phantom</strong> </a><ul><li class=section-header>Technical Specs<li><a href=https://phantom.pm/docs/tech/architecture-overview/>Architecture Overview</a><li class=section-header>Providers<li><a href=https://phantom.pm/docs/providers/anthropic/>Anthropic</a><li><a href=https://phantom.pm/docs/providers/gemini/>Gemini</a><li><a href=https://phantom.pm/docs/providers/overview/>Index</a><li><a href=https://phantom.pm/docs/providers/ollama/>Ollama</a><li><a href=https://phantom.pm/docs/providers/openai/>Openai</a><li class=section-header>Features<li><a href=https://phantom.pm/docs/features/agents/>Agents</a><li><a href=https://phantom.pm/docs/features/chat/>Chat</a><li><a href=https://phantom.pm/docs/features/prd/>Prd</a><li><a href=https://phantom.pm/docs/features/simulation/>Simulation</a><li><a href=https://phantom.pm/docs/features/swarm/>Swarm</a><li class=section-header>User Guide<li><a href=https://phantom.pm/docs/user/install/>Install</a><li><a href=https://phantom.pm/docs/user/integrations/>Integrations</a><li><a href=https://phantom.pm/docs/user/modules/>Modules</a><li><a href=https://phantom.pm/docs/user/quickstart/>Quickstart</a><li><a href=https://phantom.pm/docs/user/troubleshooting/>Troubleshooting</a></ul></nav><main class=content><article><h1>Architecture Overview</h1><h1 id=architecture-overview>Architecture Overview</h1><p>Owner: PhantomPM Platform Team<br> Last Updated: 2026-02-13<br> Status: Real<h2 id=current-implementation-state>Current Implementation State</h2><p>PHANTOM is currently a TypeScript monorepo with these active packages:<ol><li><code>packages/cli</code>: command orchestration<li><code>packages/core</code>: config, context, modules, swarm, PRD<li><code>packages/tui</code>: terminal rendering and themed screens<li><code>packages/modules</code>: baseline built-in modules package<li><code>packages/mcp-server</code>: MCP core server and tool contracts</ol><p>Current runtime model:<ol><li>local CLI process<li>local filesystem indexing for context<li>local JSON configuration in <code>~/.phantom/config.json</code></ol><h2 id=target-state>Target State</h2><p>Target architecture adds:<ol><li>one-line installer pipeline and release manifest<li>MCP core server with adapter layer<li>deterministic swarm pipeline with evidence provenance<li>stronger security and audit model</ol><h2 id=config-schema-additions-public-interface>Config Schema Additions (Public Interface)</h2><p>Required config keys in persisted user config:<ol><li><code>installation.channel</code><li><code>installation.version</code><li><code>mcp.enabled</code><li><code>mcp.server_mode</code><li><code>integrations[]</code><li><code>security.audit_log_path</code></ol><p>Current implementation state:<ol><li>configuration includes installation metadata and integrations list<li>MCP and security keys are available in config model<li>compatibility path accepts legacy camelCase keys while writing canonical keys</ol><p>Target state:<ol><li>schema validation gate for config load/save<li><code>phantom doctor</code> includes config schema diagnostics<li>migration tooling for older config payloads</ol><h2 id=logical-layers>Logical Layers</h2><h2 id=interface-layer>Interface Layer</h2><ol><li>CLI commands<li>TUI outputs<li>future website and API docs reference</ol><h2 id=cli-contract-additions-foundation>CLI Contract Additions (Foundation)</h2><p>Required command surface:<ol><li><code>phantom doctor</code><li><code>phantom integrate scan</code><li><code>phantom integrate &lt;target></code><li><code>phantom integrate doctor</code><li><code>phantom status --json</code></ol><p><code>phantom status --json</code> contract (current):<ol><li><code>version</code><li><code>firstRun</code><li><code>activeProject</code><li><code>installedModules</code><li><code>integrations</code><li><code>dataMode</code><li><code>permissionLevel</code><li><code>theme</code></ol><h2 id=domain-layer>Domain Layer</h2><ol><li>context management<li>module registry and lifecycle<li>agent swarm orchestration<li>artifact generation (PRD and future outputs)</ol><h2 id=integration-layer>Integration Layer</h2><ol><li>MCP core contracts<li>adapter-specific configuration surfaces</ol><h2 id=storage-layer>Storage Layer</h2><ol><li>config store<li>local context index store<li>future artifact store and audit log</ol><h2 id=cross-cutting-concerns>Cross-Cutting Concerns</h2><ol><li>permission policy<li>reliability gates<li>status-tagged documentation parity</ol><h2 id=data-flow-high-level>Data Flow (High-Level)</h2><ol><li>user command enters CLI<li>CLI routes to core service<li>core reads context/config/module state<li>core produces deterministic response/artifact<li>CLI/TUI renders result and writes output when applicable</ol><h2 id=architectural-constraints>Architectural Constraints</h2><ol><li>local-first default behavior<li>explicit external action paths<li>deterministic behavior for all <code>Real</code> features<li>docs and implementation must remain synchronized</ol><h2 id=acceptance-criteria>Acceptance Criteria</h2><ol><li>architecture document reflects current code structure<li>includes current and target states explicitly<li>references installer and MCP as planned extensions</ol></article></main><script src=https://phantom.pm/oat.min.js></script>